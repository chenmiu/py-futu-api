

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>行情API &mdash; futuquant 2.3 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="futuquant 2.3 documentation" href="../index.html"/>
        <link rel="next" title="交易API" href="Trade_API_Python_Doc.html"/>
        <link rel="prev" title="下载数据" href="../setup/Hist_KLine_Download_Intro.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> futuquant
          

          
          </a>

          
            
            
              <div class="version">
                2.3
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">基础</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../intro/intro.html">介绍</a></li>
<li class="toctree-l1"><a class="reference internal" href="../setup/setup.html">安装</a></li>
<li class="toctree-l1"><a class="reference internal" href="../setup/Hist_KLine_Download_Intro.html">下载数据</a></li>
</ul>
<p class="caption"><span class="caption-text">API</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">行情API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#id1">接口概要</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id2">接口列表</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id3">上下文控制</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id4">低频数据接口</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id5">订阅接口</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id6">高频数据接口</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id7">回调处理基类</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id8">参数类型定义</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#market">市场标识market</a></li>
<li class="toctree-l3"><a class="reference internal" href="#stock-type">证券类型stock_type</a></li>
<li class="toctree-l3"><a class="reference internal" href="#autype">复权类型autype</a></li>
<li class="toctree-l3"><a class="reference internal" href="#k">K线类型</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id9">订阅数据类型</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id10">板块分类类型</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id11">K线字段类型</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id12">股票代码</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id13">返回值</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id14">错误码说明</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id15">详细说明</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id16">实例化上下文对象</a></li>
<li class="toctree-l3"><a class="reference internal" href="#start">启动推送接收 start</a></li>
<li class="toctree-l3"><a class="reference internal" href="#stop">停止推送接收 stop</a></li>
<li class="toctree-l3"><a class="reference internal" href="#set-handler">设置异步回调处理对象 set_handler</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-trading-days">获取交易日 get_trading_days</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-stock-basicinfo">获取股票信息 get_stock_basicinfo</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-autype-list">获取复权因子 get_autype_list</a></li>
<li class="toctree-l3"><a class="reference internal" href="#k-get-history-kline">获取历史K线 get_history_kline</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-market-snapshot">获取市场快照 get_market_snapshot</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-rt-data">获取分时数据 get_rt_data</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-plate-list">获取板块集合下的子板块列表 get_plate_list</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-plate-stock">获取板块下的股票列表 get_plate_stock</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-broker-queue">获取经纪队列 get_broker_queue</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-global-state">获取牛牛程序全局状态 get_global_state</a></li>
<li class="toctree-l3"><a class="reference internal" href="#subscribe">订阅 subscribe</a></li>
<li class="toctree-l3"><a class="reference internal" href="#unsubscribe">退订 unsubscribe</a></li>
<li class="toctree-l3"><a class="reference internal" href="#query-subscription">查询订阅 query_subscription</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-stock-quote-stockquotehandlerbase">获取报价 get_stock_quote 和 StockQuoteHandlerBase</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-rt-ticker-tickerhandlerbase">获取逐笔 get_rt_ticker 和 TickerHandlerBase</a></li>
<li class="toctree-l3"><a class="reference internal" href="#k-get-cur-kline-curklinehandlerbase">获取实时K线 get_cur_kline 和 CurKlineHandlerBase</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-order-book-orderbookhandlerbase">获取摆盘 get_order_book 和 OrderBookHandlerBase</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-rt-data-rtdatahandlerbase">获取分时数据 get_rt_data 和 RTDataHandlerBase</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-broker-queue-brokerhandlerbase">获取经纪队列 get_broker_queue 和 BrokerHandlerBase</a></li>
<li class="toctree-l3"><a class="reference internal" href="#k-get-multi-points-history-kline">获取多支股票多个单点历史K线 get_multi_points_history_kline</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Trade_API_Python_Doc.html">交易API</a></li>
<li class="toctree-l1"><a class="reference internal" href="PLS_API_Intro.html">PLS API</a></li>
</ul>
<p class="caption"><span class="caption-text">Q&amp;A</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../q&amp;a/Q&amp;A.html">Q&amp;A</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">futuquant</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>行情API</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/api/Market_API_Python_Doc.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="api">
<h1>行情API<a class="headerlink" href="#api" title="Permalink to this headline">¶</a></h1>
<div class="section" id="id1">
<h2>接口概要<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<p>开放接口基于PC客户端获取数据，提供给用户使用。</p>
<p>开放接口分为<strong>低频接口</strong>、<strong>订阅接口</strong>和<strong>高频接口</strong>，以及<strong>回调处理基类</strong>：</p>
<p><strong>低频接口</strong>主要用来获取股票市场静态和全局的数据，让用户得到股票的基本信息，不允许高频调用。</p>
<p>如果要实时获取数据，则需要调用高频接口。</p>
<p><strong>订阅接口</strong>是用来管理高频接口使用额度，包括订阅、退订和查询额度。</p>
<p><em>订阅</em>：在使用高频接口前， 需要订阅想要的数据。订阅成功后，则可以使用高频接口获取；订阅各类数据有额度限制：</p>
<p><strong>用户额度 &gt;= 订阅K线股票数 * K线权重 + 订阅逐笔股票数 * 逐笔权重 + 订阅报价股票数
* 报价权重 + 订阅摆盘股票数 * 摆盘权重</strong></p>
<p><strong>订阅使用的额度不能超过用户额度，用户额度也就是订阅的上限为500个订阅单位</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="30%" />
<col width="70%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">订阅数据</th>
<th class="head">额度权重（所占订阅单位）</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>K线</td>
<td>2</td>
</tr>
<tr class="row-odd"><td>逐笔</td>
<td>5（牛熊证为1）</td>
</tr>
<tr class="row-even"><td>报价</td>
<td>1</td>
</tr>
<tr class="row-odd"><td>摆盘</td>
<td>5（牛熊证为1）</td>
</tr>
<tr class="row-even"><td>分时</td>
<td>2</td>
</tr>
<tr class="row-odd"><td>经纪队列</td>
<td>5（牛熊证为1）</td>
</tr>
</tbody>
</table>
<p><em>查询额度</em>：用来查询现在各项额度占用情况。用户可以看到每一种类型数据都有订阅了哪些股票；然后利用退订操作来去掉不需要的股票数据。</p>
<p><em>退订</em>：用户可以退订指定股票和指定数据类型，空出额度。但是退订的时间限制为1分钟，即订阅某支股票某个订阅位1分钟之后才能退订。</p>
<p><strong>如果数据不订阅，直接调用高频接口则会返回失败。</strong>
订阅时可选择推送选项。推送开启后，程序就会持续收到客户端推送过来的行情数据。用户可以通过继承<strong>回调处理基类</strong>，并实现用户自己的子类来使用数据推送功能。</p>
<p><strong>高频接口</strong>可以获取实时数据，可以针对小范围内的股票频繁调用；比如需要跟踪某个股票的逐笔和摆盘变化等；在调用之前需要将频繁获取的数据订阅注册。</p>
<p><strong>回调处理基类</strong>用于实现数据推送功能，用户在此基类上实现子类并实例化后，当客户端不断推送数据时，程序就会调用对应的对象处理。</p>
</div>
<div class="section" id="id2">
<h2>接口列表<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id3">
<h3>上下文控制<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">start</span><span class="p">()</span>              <span class="c1"># 开启异步数据接收</span>

<span class="n">stop</span><span class="p">()</span>               <span class="c1"># 停止异步数据接收</span>

<span class="n">set_handler</span><span class="p">(</span><span class="n">handler</span><span class="p">)</span> <span class="c1"># 设置用于异步处理数据的回调对象</span>
</pre></div>
</div>
</div>
<div class="section" id="id4">
<h3>低频数据接口<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">get_trading_days</span><span class="p">(</span><span class="n">market</span><span class="p">,</span> <span class="n">start_date</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">end_date</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>  <span class="c1"># 获取交易日</span>
<span class="n">get_stock_basicinfo</span><span class="p">(</span><span class="n">market</span><span class="p">,</span> <span class="n">stock_type</span><span class="o">=</span><span class="s1">&#39;STOCK&#39;</span><span class="p">)</span>           <span class="c1"># 获取股票信息</span>
<span class="n">get_history_kline</span><span class="p">(</span><span class="n">code</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">ktype</span><span class="o">=</span><span class="s1">&#39;K_DAY&#39;</span><span class="p">,</span> <span class="n">autype</span><span class="o">=</span><span class="s1">&#39;qfq&#39;</span><span class="p">)</span>  <span class="c1"># 获取历史K线</span>
<span class="n">get_autype_list</span><span class="p">(</span><span class="n">code_list</span><span class="p">)</span>      <span class="c1"># 获取复权因子</span>
<span class="n">get_market_snapshot</span><span class="p">(</span><span class="n">code_list</span><span class="p">)</span>  <span class="c1"># 获取市场快照</span>
<span class="n">get_plate_list</span><span class="p">(</span><span class="n">market</span><span class="p">,</span> <span class="n">plate_class</span><span class="p">)</span>        <span class="c1">#获取板块集合下的子板块列表</span>
<span class="n">get_plate_stock</span><span class="p">(</span><span class="n">market</span><span class="p">,</span> <span class="n">stock_code</span><span class="p">)</span>        <span class="c1">#获取板块下的股票列表</span>
</pre></div>
</div>
</div>
<div class="section" id="id5">
<h3>订阅接口<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h3>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">subscribe</span><span class="p">(</span><span class="n">stock_code</span><span class="p">,</span> <span class="n">data_type</span><span class="p">,</span> <span class="n">push</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="c1"># 订阅</span>
<span class="n">unsubscribe</span><span class="p">(</span><span class="n">stock_code</span><span class="p">,</span> <span class="n">data_type</span><span class="p">)</span>           <span class="c1"># 退订</span>
<span class="n">query_subscription</span><span class="p">()</span>                         <span class="c1"># 查询订阅</span>
</pre></div>
</div>
</div>
<div class="section" id="id6">
<h3>高频数据接口<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h3>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">get_stock_quote</span><span class="p">(</span><span class="n">code_list</span><span class="p">)</span> <span class="c1">#  获取报价</span>
<span class="n">get_rt_ticker</span><span class="p">(</span><span class="n">code</span><span class="p">,</span> <span class="n">num</span><span class="p">)</span>   <span class="c1"># 获取逐笔</span>
<span class="n">get_cur_kline</span><span class="p">(</span><span class="n">code</span><span class="p">,</span> <span class="n">num</span><span class="p">,</span> <span class="n">ktype</span><span class="o">=</span><span class="s1">&#39; K_DAY&#39;</span><span class="p">,</span> <span class="n">autype</span><span class="o">=</span><span class="s1">&#39;qfq&#39;</span><span class="p">)</span> <span class="c1"># 获取当前K线</span>
<span class="n">get_order_book</span><span class="p">(</span><span class="n">code</span><span class="p">)</span>       <span class="c1"># 获取摆盘</span>
<span class="n">get_rt_data</span>                <span class="c1">#获取分时数据</span>
<span class="n">get_broker_queue</span>           <span class="c1">#获取经纪队列</span>
</pre></div>
</div>
</div>
<div class="section" id="id7">
<h3>回调处理基类<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h3>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">StockQuoteHandlerBase</span> <span class="c1"># 报价处理基类</span>

<span class="n">OrderBookHandlerBase</span>  <span class="c1"># 摆盘处理基类</span>

<span class="n">CurKlineHandlerBase</span>   <span class="c1"># 实时K线处理基类</span>

<span class="n">TickerHandlerBase</span>     <span class="c1"># 逐笔处理基类</span>

<span class="n">RTDataHandlerBase</span>     <span class="c1"># 分时数据处理基类</span>

<span class="n">BrokerHandlerBase</span>     <span class="c1"># 经纪队列处理基类</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="id8">
<h2>参数类型定义<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h2>
<div class="section" id="market">
<h3>市场标识market<a class="headerlink" href="#market" title="Permalink to this headline">¶</a></h3>
<p>（字符串类型）</p>
<table border="1" class="docutils">
<colgroup>
<col width="43%" />
<col width="57%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">股票市场</th>
<th class="head">标识</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>港股</td>
<td>&#8220;HK&#8221;</td>
</tr>
<tr class="row-odd"><td>美股</td>
<td>&#8220;US&#8221;</td>
</tr>
<tr class="row-even"><td>沪股</td>
<td>&#8220;SH&#8221;</td>
</tr>
<tr class="row-odd"><td>深股</td>
<td>&#8220;SZ&#8221;</td>
</tr>
<tr class="row-even"><td>香港期货</td>
<td>&#8220;HK_FUTURE&#8221;</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="stock-type">
<h3>证券类型stock_type<a class="headerlink" href="#stock-type" title="Permalink to this headline">¶</a></h3>
<p>（字符串类型）</p>
<table border="1" class="docutils">
<colgroup>
<col width="48%" />
<col width="52%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">股票类型</th>
<th class="head">标识</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>正股</td>
<td>&#8220;STOCK&#8221;</td>
</tr>
<tr class="row-odd"><td>指数</td>
<td>&#8220;IDX&#8221;</td>
</tr>
<tr class="row-even"><td>ETF基金</td>
<td>&#8220;ETF&#8221;</td>
</tr>
<tr class="row-odd"><td>涡轮牛熊</td>
<td>&#8220;WARRANT&#8221;</td>
</tr>
<tr class="row-even"><td>债券</td>
<td>&#8220;BOND&#8221;</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="autype">
<h3>复权类型autype<a class="headerlink" href="#autype" title="Permalink to this headline">¶</a></h3>
<p>（字符串类型）</p>
<table border="1" class="docutils">
<colgroup>
<col width="57%" />
<col width="43%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">复权类型</th>
<th class="head">标识</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>前复权</td>
<td>&#8220;qfq&#8221;</td>
</tr>
<tr class="row-odd"><td>后复权</td>
<td>&#8220;hfq&#8221;</td>
</tr>
<tr class="row-even"><td>不复权</td>
<td>None</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="k">
<h3>K线类型<a class="headerlink" href="#k" title="Permalink to this headline">¶</a></h3>
<p>（字符串类型）</p>
<table border="1" class="docutils">
<colgroup>
<col width="46%" />
<col width="54%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">K线类型</th>
<th class="head">标识</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>1分K</td>
<td>&#8220;K_1M&#8221;</td>
</tr>
<tr class="row-odd"><td>5分K</td>
<td>&#8220;K_5M&#8221;</td>
</tr>
<tr class="row-even"><td>15分K</td>
<td>&#8220;K_15M&#8221;</td>
</tr>
<tr class="row-odd"><td>30分K</td>
<td>&#8220;K_30M&#8221;</td>
</tr>
<tr class="row-even"><td>60分K</td>
<td>&#8220;K_60M&#8221;</td>
</tr>
<tr class="row-odd"><td>日K</td>
<td>&#8220;K_DAY&#8221;</td>
</tr>
<tr class="row-even"><td>周K</td>
<td>&#8220;K_WEEK&#8221;</td>
</tr>
<tr class="row-odd"><td>月K</td>
<td>&#8220;K_MON&#8221;</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id9">
<h3>订阅数据类型<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h3>
<p>（字符串类型）</p>
<table border="1" class="docutils">
<colgroup>
<col width="41%" />
<col width="59%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">订阅类型</th>
<th class="head">标识</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>逐笔</td>
<td>&#8220;TICKER&#8221;</td>
</tr>
<tr class="row-odd"><td>报价</td>
<td>&#8220;QUOTE&#8221;</td>
</tr>
<tr class="row-even"><td>摆盘</td>
<td>&#8220;ORDER_BOOK&#8221;</td>
</tr>
<tr class="row-odd"><td>1分K</td>
<td>&#8220;K_1M&#8221;</td>
</tr>
<tr class="row-even"><td>5分K</td>
<td>&#8220;K_5M&#8221;</td>
</tr>
<tr class="row-odd"><td>15分K</td>
<td>&#8220;K_15M&#8221;</td>
</tr>
<tr class="row-even"><td>30分K</td>
<td>&#8220;K_30M&#8221;</td>
</tr>
<tr class="row-odd"><td>60分K</td>
<td>&#8220;K_60M&#8221;</td>
</tr>
<tr class="row-even"><td>日K</td>
<td>&#8220;K_DAY&#8221;</td>
</tr>
<tr class="row-odd"><td>周K</td>
<td>&#8220;K_WEEK&#8221;</td>
</tr>
<tr class="row-even"><td>月K</td>
<td>&#8220;K_MON&#8221;</td>
</tr>
<tr class="row-odd"><td>分时</td>
<td>&#8220;RT_DATA&#8221;</td>
</tr>
<tr class="row-even"><td>经纪队列</td>
<td>&#8220;BROKER&#8221;</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id10">
<h3>板块分类类型<a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h3>
<p>（字符串类型）</p>
<table border="1" class="docutils">
<colgroup>
<col width="46%" />
<col width="54%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">板块分类</th>
<th class="head">标识</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>所有板块</td>
<td>&#8220;ALL&#8221;</td>
</tr>
<tr class="row-odd"><td>行业分类</td>
<td>&#8220;INDUSTRY&#8221;</td>
</tr>
<tr class="row-even"><td>地域分类</td>
<td>&#8220;REGION&#8221;</td>
</tr>
<tr class="row-odd"><td>概念分类</td>
<td>&#8220;CONCEPT&#8221;</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id11">
<h3>K线字段类型<a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils">
<colgroup>
<col width="68%" />
<col width="32%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">字段标识</th>
<th class="head">说明</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>KL_FIELD.ALL</td>
<td>所有字段</td>
</tr>
<tr class="row-odd"><td>KL_FIELD.DATE_TIME</td>
<td>K线时间</td>
</tr>
<tr class="row-even"><td>KL_FIELD.OPEN</td>
<td>开盘价</td>
</tr>
<tr class="row-odd"><td>KL_FIELD.CLOSE</td>
<td>收盘价</td>
</tr>
<tr class="row-even"><td>KL_FIELD.HIGH</td>
<td>最高价</td>
</tr>
<tr class="row-odd"><td>KL_FIELD.LOW</td>
<td>最低价</td>
</tr>
<tr class="row-even"><td>KL_FIELD.PE_RATIO</td>
<td>市盈率</td>
</tr>
<tr class="row-odd"><td>KL_FIELD.TRADE_VOL</td>
<td>成交量</td>
</tr>
<tr class="row-even"><td>KL_FIELD.TRADE_VAL</td>
<td>成交额</td>
</tr>
<tr class="row-odd"><td>KL_FIELD.CHANGE_RATE</td>
<td>涨跌幅</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id12">
<h3>股票代码<a class="headerlink" href="#id12" title="Permalink to this headline">¶</a></h3>
<p>模式为：“ 市场+原始代码&#8221; 例如，“HK.00700”, “SZ.000001”,
“US.AAPL”</p>
<p><strong>注意，原始代码部分的字符串必须和客户端显示的完全匹配</strong>，比如：
腾讯为“HK.00700”，而不能是“HK.700”</p>
</div>
<div class="section" id="id13">
<h3>返回值<a class="headerlink" href="#id13" title="Permalink to this headline">¶</a></h3>
<p><strong>对于用户来说接口会返回两个值</strong>
ret_code(调用执行返回状态，0为成功，其它为失败)和ret_data：</p>
<table border="1" class="docutils">
<colgroup>
<col width="31%" />
<col width="69%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">ret_code</th>
<th class="head">ret_data</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>成功</td>
<td>ret_data为实际数据</td>
</tr>
<tr class="row-odd"><td>失败</td>
<td>ret_data为错误描述字符串</td>
</tr>
</tbody>
</table>
<div class="section" id="id14">
<h4>错误码说明<a class="headerlink" href="#id14" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="29%" />
<col width="71%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">错误码</th>
<th class="head">错误说明</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>0</td>
<td>无错误</td>
</tr>
<tr class="row-odd"><td>400</td>
<td>未知错误</td>
</tr>
<tr class="row-even"><td>401</td>
<td>版本不支持</td>
</tr>
<tr class="row-odd"><td>402</td>
<td>股票未找到</td>
</tr>
<tr class="row-even"><td>403</td>
<td>协议号不支持</td>
</tr>
<tr class="row-odd"><td>404</td>
<td>参数错误</td>
</tr>
<tr class="row-even"><td>405</td>
<td>频率错误（请求过快）</td>
</tr>
<tr class="row-odd"><td>406</td>
<td>订阅达到上限</td>
</tr>
<tr class="row-even"><td>407</td>
<td>未订阅</td>
</tr>
<tr class="row-odd"><td>408</td>
<td>未满足反订阅时间限制</td>
</tr>
<tr class="row-even"><td>501</td>
<td>服务器忙</td>
</tr>
<tr class="row-odd"><td>502</td>
<td>超时</td>
</tr>
<tr class="row-even"><td>503</td>
<td>网络错误</td>
</tr>
<tr class="row-odd"><td>504</td>
<td>操作不允许</td>
</tr>
<tr class="row-even"><td>505</td>
<td>未知订单</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="section" id="id15">
<h2>详细说明<a class="headerlink" href="#id15" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id16">
<h3>实例化上下文对象<a class="headerlink" href="#id16" title="Permalink to this headline">¶</a></h3>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">quote_ctx</span> <span class="o">=</span> <span class="n">OpenQuoteContext</span><span class="p">(</span><span class="n">host</span><span class="o">=</span><span class="s1">&#39;127.0.0.1&#39;</span><span class="p">,</span> <span class="n">port</span><span class="o">=</span><span class="mi">11111</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>功能</strong>：创建上下文，建立网络连接</p>
<p><strong>参数</strong>:</p>
<p><strong>host</strong>：网络连接地址</p>
<p><strong>sync_port</strong>：网络连接端口，用于同步通信。</p>
<p><strong>async_port</strong>：网络连接端口，用于异步通信，接收客户端的数据推送。</p>
</div>
<div class="section" id="start">
<h3>启动推送接收 start<a class="headerlink" href="#start" title="Permalink to this headline">¶</a></h3>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">quote_ctx</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
</pre></div>
</div>
<p><strong>功能</strong>：启动推送接收线程，异步接收客户端推送的数据。</p>
</div>
<div class="section" id="stop">
<h3>停止推送接收 stop<a class="headerlink" href="#stop" title="Permalink to this headline">¶</a></h3>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">quote_ctx</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
</pre></div>
</div>
<p><strong>功能</strong>：停止推送接收线程，不再接收客户端推送的数据。</p>
</div>
<div class="section" id="set-handler">
<h3>设置异步回调处理对象 set_handler<a class="headerlink" href="#set-handler" title="Permalink to this headline">¶</a></h3>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">quote_ctx</span><span class="o">.</span><span class="n">set_handler</span><span class="p">(</span><span class="n">handler</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>功能</strong>：设置回调处理对象，用于接收线程在收到数据后调用。用户应该将自己实现的回调对象设置，以便实现事件驱动。</p>
<p>handler必须是以下几种类的子类对象：</p>
<table border="1" class="docutils">
<colgroup>
<col width="59%" />
<col width="41%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">类名</th>
<th class="head">说明</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><strong>StockQuoteHandlerBase</strong></td>
<td>报价处理基类</td>
</tr>
<tr class="row-odd"><td><strong>OrderBookHandlerBase</strong></td>
<td>摆盘处理基类</td>
</tr>
<tr class="row-even"><td><strong>CurKlineHandlerBase</strong></td>
<td>实时K线处理基类</td>
</tr>
<tr class="row-odd"><td><strong>TickerHandlerBase</strong></td>
<td>逐笔处理基类</td>
</tr>
<tr class="row-even"><td><strong>RTDataHandlerBase</strong></td>
<td>分时数据处理基类</td>
</tr>
<tr class="row-odd"><td><strong>BrokerHandlerBase</strong></td>
<td>经纪队列处理基类</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="get-trading-days">
<h3>获取交易日 get_trading_days<a class="headerlink" href="#get-trading-days" title="Permalink to this headline">¶</a></h3>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">ret_code</span><span class="p">,</span> <span class="n">ret_data</span> <span class="o">=</span> <span class="n">quote_ctx</span><span class="o">.</span><span class="n">get_trading_days</span><span class="p">(</span><span class="n">market</span><span class="p">,</span> <span class="n">start_date</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">end_date</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>功能</strong>：取指定市场，某个日期时间段的交易日列表</p>
<p><strong>参数</strong>：</p>
<p><strong>market</strong>: 市场标识</p>
<div class="line-block">
<div class="line"><strong>start_date</strong>: 起始日期;</div>
<div class="line">string类型，格式YYYY-MM-DD，仅指定到日级别即可，默认值None表示最近一年前的日期</div>
</div>
<p><strong>end_date</strong>: 结束日期;
string类型，格式YYYY-MM-DD，仅指定到日级别即可，取默认值None表示取当前日期</p>
<p><strong>返回</strong>：</p>
<p>ret_code失败时，ret_data返回为错误描述字符串；
客户端无数据时，ret_code为成功，ret_data返回None；
正常情况下，ret_data为日期列表（每个日期是string类型），如果指定时间段中无交易日，则ret_data为空列表。</p>
<p><strong>失败情况</strong>：</p>
<ol class="arabic simple">
<li>市场标识不合法</li>
<li>起止日期输入不合法</li>
<li>客户端内部或网络错误</li>
</ol>
</div>
<div class="section" id="get-stock-basicinfo">
<h3>获取股票信息 get_stock_basicinfo<a class="headerlink" href="#get-stock-basicinfo" title="Permalink to this headline">¶</a></h3>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">ret_code</span><span class="p">,</span> <span class="n">ret_data</span> <span class="o">=</span> <span class="n">quote_ctx</span><span class="o">.</span><span class="n">get_stock_basicinfo</span><span class="p">(</span><span class="n">market</span><span class="p">,</span> <span class="n">stock_type</span><span class="o">=</span><span class="s1">&#39;STOCK&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>功能</strong>：取符合市场和股票类型条件的股票简要信息</p>
<p><strong>参数</strong>：</p>
<p><strong>market</strong>: 市场标识, string，例如，”HK”，”US”；具体见市场标识说明</p>
<p><strong>stock_type</strong>: 证券类型, string,
例如，”STOCK”，”ETF”；具体见证券类型说明</p>
<p><strong>证券类型</strong> stock_type，（字符串类型）：</p>
<table border="1" class="docutils">
<colgroup>
<col width="48%" />
<col width="52%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">股票类型</th>
<th class="head">标识</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>正股</td>
<td>&#8220;STOCK&#8221;</td>
</tr>
<tr class="row-odd"><td>指数</td>
<td>&#8220;IDX&#8221;</td>
</tr>
<tr class="row-even"><td>ETF基金</td>
<td>&#8220;ETF&#8221;</td>
</tr>
<tr class="row-odd"><td>涡轮牛熊</td>
<td>&#8220;WARRANT&#8221;</td>
</tr>
<tr class="row-even"><td>债券</td>
<td>&#8220;BOND&#8221;</td>
</tr>
</tbody>
</table>
<p><strong>返回</strong>： ret_code失败时，ret_data返回为错误描述字符串；
客户端无符合条件数据时，ret_code为成功，ret_data返回None；
正常情况下，ret_data为一个dataframe，其中包括：</p>
<p><strong>code</strong>：股票代码；string，例如： ”HK.00700”，“US.AAPL”</p>
<p><strong>name</strong>：股票名称；string</p>
<p><strong>lot_size</strong>：每手股数；int</p>
<p><strong>stock_type</strong>：股票类型；string，例如： ”STOCK”，”ETF”</p>
<p><strong>stock_child_type</strong>:
股票子类型；仅支持窝轮，其他为0，string，例如：&#8221;BEAR&#8221;，&#8221;BULL&#8221;</p>
<p><strong>owner_stock_code</strong>：所属正股；仅支持窝轮，其他为0</p>
<p><strong>listing_date</strong>: 上市日期： str</p>
<p><strong>stockid</strong>: 股票ID；str</p>
<p><strong>失败情况</strong>：</p>
<ol class="arabic simple">
<li>市场或股票类型不合法</li>
<li>客户端内部或网络错误</li>
</ol>
</div>
<div class="section" id="get-autype-list">
<h3>获取复权因子 get_autype_list<a class="headerlink" href="#get-autype-list" title="Permalink to this headline">¶</a></h3>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">ret_code</span><span class="p">,</span> <span class="n">ret_data</span> <span class="o">=</span> <span class="n">quote_ctx</span><span class="o">.</span><span class="n">get_autype_list</span><span class="p">(</span><span class="n">code_list</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>功能</strong>：获取复权因子数据</p>
<p><strong>参数</strong>：</p>
<p><strong>code_list</strong>: 股票代码列表，例如，HK.00700，US.AAPL</p>
<p><strong>返回</strong>：</p>
<p>ret_code失败时，ret_data返回为错误描述字符串；
客户端无符合条件数据时，ret_code为成功，ret_data返回None；
正常情况下，ret_data为一个dataframe，其中包括：</p>
<p><strong>code</strong>：股票代码；string，例如： ”HK.00700”，“US.AAPL”</p>
<p><strong>ex_div_date</strong>：除权除息日；string，格式YYYY-MM-DD</p>
<p><strong>split_ratio</strong>：拆合股比例；
double，例如，对于5股合1股为1/5，对于1股拆5股为5/1</p>
<p><strong>per_cash_div</strong>：每股派现；double</p>
<p><strong>per_share_div_ratio</strong>：每股送股比例； double</p>
<p><strong>per_share_trans_ratio</strong>：每股转增股比例； double</p>
<p><strong>allotment_ratio</strong>：每股配股比例；double</p>
<p><strong>allotment_price</strong>：配股价；double</p>
<p><strong>stk_spo_ratio</strong>：增发比例；double</p>
<p><strong>stk_spo_price</strong> ：增发价格；double</p>
<p><strong>forward_adj_factorA</strong>：前复权因子A；double</p>
<p><strong>forward_adj_factorB</strong>：前复权因子B；double</p>
<p><strong>backward_adj_factorA</strong>：后复权因子A；double</p>
<p><strong>backward_adj_factorB</strong>：后复权因子B；double</p>
<p>返回数据中不一定包含所有codelist中的代码，调用方自己需要检查，哪些股票代码是没有返回复权数据的，未返回复权数据的股票说明没有找到相关信息。</p>
<p><strong>复权价格 = 复权因子A * 价格 + 复权因子B</strong></p>
<p><strong>失败情况</strong>：</p>
<p>1． Codelist中股票代码不合法</p>
<p>2． 客户端内部或网络错误</p>
</div>
<div class="section" id="k-get-history-kline">
<h3>获取历史K线 get_history_kline<a class="headerlink" href="#k-get-history-kline" title="Permalink to this headline">¶</a></h3>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">ret_code</span><span class="p">,</span> <span class="n">ret_data</span> <span class="o">=</span> <span class="n">quote_ctx</span><span class="o">.</span><span class="n">get_history_kline</span><span class="p">(</span><span class="n">code</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">ktype</span><span class="o">=</span><span class="s1">&#39;K_DAY&#39;</span><span class="p">,</span> <span class="n">autype</span><span class="o">=</span><span class="s1">&#39;qfq&#39;</span><span class="p">,</span> <span class="n">fields</span><span class="o">=</span><span class="p">[</span><span class="n">KL_FIELD</span><span class="o">.</span><span class="n">ALL</span><span class="p">])</span>
</pre></div>
</div>
<p><strong>功能</strong>： 获取指定股票K线历史数据</p>
<p><strong>参数</strong>：</p>
<p><strong>code</strong>：股票代码</p>
<p><strong>start</strong> ：开始时间，string; YYYY-MM-DD；为空时取去当前时间;</p>
<p><strong>end</strong> ： 结束时间，string; YYYY-MM-DD；为空时取当前时间;</p>
<p><strong>ktype</strong> ：k线类型，默认为日K</p>
<p><strong>autype</strong>:  复权类型，string；”qfq”-前复权，”hfq”-后复权，None-不复权，默认为”qfq”</p>
<p><strong>fields</strong>: 单个或多个K线字段类型，指定需要返回的数据 KL_FIELD.ALL or [KL_FIELD.DATE_TIME, KL_FIELD.OPEN]，默认为KL_FIELD.ALL</p>
<p>开始结束时间按照闭区间查询，时间查询以k线时间time_key作为比较标准。即满足
start&lt;=Time_key&lt;=end条件的k线作为返回内容，k线时间time_key的设定标准在返回值中说明</p>
<p><strong>返回</strong>：</p>
<div class="line-block">
<div class="line">ret_code失败时，ret_data返回为错误描述字符串；
客户端无符合条件数据时，ret_code为成功，返回None；</div>
</div>
<p>正常情况下返回K线数据为一个DataFrame包含:</p>
<p><strong>code</strong>： 股票代码；string</p>
<p><strong>time_key</strong>： K线时间 string “YYYY-MM-DD HH:mm:ss”</p>
<p><strong>open</strong>： 开盘价；double</p>
<p><strong>high</strong>： 最高价；double</p>
<p><strong>close</strong>： 收盘价；double</p>
<p><strong>low</strong>： 最低价；double</p>
<p><strong>volume</strong>： 成交量；long</p>
<p><strong>turnover</strong> ： 成交额；double</p>
<p><strong>pe_ratio</strong>： 市盈率；double</p>
<p><strong>turnover_rate</strong>: 换手率；double</p>
<p><strong>change_rate</strong>:  涨跌幅；double</p>
<p>对于日K线，time_key为当日时间具体到日，比如说2016-12-23日的日K，K线时间为”2016-12-23 00:00:00”</p>
<p>对于周K线，12月19日到12月25日的周K线，K线时间time_key为” 2016-12-19 00:00:00”</p>
<p>对于月K线，12月的月K线时间time_key为” 2016-12-01 00:00:00”，即为当月1日时间</p>
<p>对于分K线，time_key为当日时间具体到分，例如，</p>
<table border="1" class="docutils">
<colgroup>
<col width="16%" />
<col width="84%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">分K类型</th>
<th class="head">覆盖时间举例</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>1分K</td>
<td>覆盖9:35:00到9:35:59的分K,time_key为&#8221;2016-12-23 09:36:00&#8221;</td>
</tr>
<tr class="row-odd"><td>5分K</td>
<td>覆盖10:05:00到10:09:59的分K,time_key为&#8221;2016-12-23 10:10:00&#8221;</td>
</tr>
<tr class="row-even"><td>15分K</td>
<td>覆盖10:00:00到10:14:59的分K,time_key为&#8221;2016-12-23 10:15:00&#8221;</td>
</tr>
<tr class="row-odd"><td>30分K</td>
<td>覆盖10:00:00到10:29:59的分K,time_key为&#8221;2016-12-23 10:30:00&#8221;</td>
</tr>
<tr class="row-even"><td>60分K</td>
<td>覆盖10:00:00到10:59:59的分K,time_key为&#8221;2016-12-23 11:00:00&#8221;</td>
</tr>
</tbody>
</table>
<p><strong>失败情况</strong>:</p>
<ol class="arabic">
<li><p class="first">股票代码不合法</p>
</li>
<li><div class="first line-block">
<div class="line">PLS接口返回错误</div>
</div>
</li>
</ol>
</div>
<div class="section" id="get-market-snapshot">
<h3>获取市场快照 get_market_snapshot<a class="headerlink" href="#get-market-snapshot" title="Permalink to this headline">¶</a></h3>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">ret_code</span><span class="p">,</span> <span class="n">ret_data</span> <span class="o">=</span> <span class="n">quote_ctx</span><span class="o">.</span><span class="n">get_market_snapshot</span><span class="p">(</span><span class="n">code_list</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>功能</strong>：一次性获取最近当前股票列表的快照数据（每日变化的信息），该接口对股票个数有限制，一次最多传入200只股票，频率限制每5秒一次</p>
<p><strong>参数</strong>：</p>
<p><strong>code_list</strong>: 股票代码列表，例如，HK.00700，US.AAPL。</p>
<p><strong>返回</strong>：</p>
<p>ret_code失败时，ret_data返回为错误描述字符串；
客户端无符合条件数据时，ret_code为成功，ret_data返回None；
正常情况下，ret_data为一个dataframe，其中包括：</p>
<p><strong>code</strong> ：股票代码；string</p>
<p><strong>update_time</strong>： 更新时间(yyyy-MM-dd HH:mm:ss)；string</p>
<p><strong>last_price</strong> ： 最新价格；float</p>
<p><strong>open_price</strong>： 今日开盘价；float</p>
<p><strong>high_price</strong>： 最高价格；float</p>
<p><strong>low_price</strong>： 最低价格；float</p>
<p><strong>prev_close_price</strong>： 昨收盘价格；float</p>
<p><strong>volume</strong>： 成交数量； long</p>
<p><strong>turnover</strong>： 成交金额；float</p>
<p><strong>turnover_rate</strong>： 换手率；float</p>
<p><strong>suspension</strong>： 是否停牌(True表示停牌)；bool</p>
<p><strong>listing_date</strong> ： 上市日期 (yyyy-MM-dd)；string</p>
<p><strong>circular_market_val</strong>： 流通市值；float</p>
<p><strong>total_market_val</strong>: 总市值；float</p>
<p><strong>wrt_valid</strong>： 是否是窝轮；bool</p>
<p><strong>wrt_conversion_ratio</strong>: 换股比率；float</p>
<p><strong>wrt_type</strong>： 窝轮类型；1=认购证 2=认沽证 3=牛证 4=熊证 string</p>
<p><strong>wrt_strike_price</strong>： 行使价格；float</p>
<p><strong>wrt_maturity_date</strong>: 格式化窝轮到期时间； string</p>
<p><strong>wrt_end_trade</strong>: 格式化窝轮最后交易时间；string</p>
<p><strong>wrt_code</strong>: 窝轮对应的正股；string</p>
<p><strong>wrt_recovery_price</strong>: 窝轮回收价；float</p>
<p><strong>wrt_street_vol</strong>: 窝轮街货量；float</p>
<p><strong>wrt_issue_vol</strong>: 窝轮发行量；float</p>
<p><strong>wrt_street_ratio</strong>: 窝轮街货占比；float</p>
<p><strong>wrt_delta</strong>: 窝轮对冲值；float</p>
<p><strong>wrt_implied_volatility</strong>: 窝轮引伸波幅；float</p>
<p><strong>wrt_premium</strong>: 窝轮溢价；float</p>
<p><strong>lot_size</strong>：每手股数；int</p>
<p><strong>issued_Shares</strong>：发行股本；int</p>
<p><strong>net_asset</strong>：资产净值；int</p>
<p><strong>net_profit</strong>：净利润；int</p>
<p><strong>earning_per_share</strong>：  每股盈利；float</p>
<p><strong>outstanding_shares</strong>：流通股本；int</p>
<p><strong>net_asset_per_share</strong>：每股净资产；float</p>
<p><strong>ey_ratio</strong>：收益率；float</p>
<p><strong>pe_ratio</strong>：市盈率；float</p>
<p><strong>pb_ratio</strong>：市净率；float</p>
<p><strong>price_spread</strong> ： 当前摆盘价差亦即摆盘数据的买档或卖档的相邻档位的报价差；float</p>
<p>返回DataFrame，包含上述字段</p>
<p><strong>窝轮类型</strong> wrt_type，（字符串类型）：</p>
<table border="1" class="docutils">
<colgroup>
<col width="32%" />
<col width="68%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">窝轮类型</th>
<th class="head">标识</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>&#8220;CALL&#8221;</td>
<td>认购证</td>
</tr>
<tr class="row-odd"><td>&#8220;PUT&#8221;</td>
<td>认沽证</td>
</tr>
<tr class="row-even"><td>&#8220;BULL&#8221;</td>
<td>牛证</td>
</tr>
<tr class="row-odd"><td>&#8220;BEAR&#8221;</td>
<td>熊证</td>
</tr>
<tr class="row-even"><td>&#8220;N/A&#8221;</td>
<td>未知或服务器没相关数据</td>
</tr>
</tbody>
</table>
<p>返回数据量不一定与codelist长度相等， 用户需要自己判断</p>
<p><strong>调用频率限制：</strong> <strong>5s一次</strong></p>
<p><strong>失败情况</strong>:</p>
<ol class="arabic simple">
<li>Codelist中股票代码不合法</li>
<li>Codelist长度超过规定数量</li>
<li>客户端内部或网络错误</li>
</ol>
</div>
<div class="section" id="get-rt-data">
<h3>获取分时数据 get_rt_data<a class="headerlink" href="#get-rt-data" title="Permalink to this headline">¶</a></h3>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">ret_code</span><span class="p">,</span> <span class="n">ret_data</span> <span class="o">=</span> <span class="n">quote_ctx</span><span class="o">.</span><span class="n">get_rt_data</span><span class="p">(</span><span class="n">code</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>功能</strong>：获取指定股票的分时数据</p>
<p><strong>参数</strong>：</p>
<p><strong>code</strong>: 股票代码，例如，HK.00700，US.APPL</p>
<p><strong>返回</strong>：</p>
<p>ret_code失败时，ret_data返回为错误描述字符串；
客户端无符合条件数据时，ret_code为成功，ret_data返回None；
正常情况下，ret_data为一个dataframe，其中包括：</p>
<p><strong>code</strong>: 股票代码；string</p>
<p><strong>time</strong>：时间；string</p>
<p><strong>data_status</strong>：数据状态；bool，正确为True，伪造为False</p>
<p><strong>opened_mins</strong>: 零点到当前多少分钟；int</p>
<p><strong>cur_price</strong>：当前价格；float</p>
<p><strong>last_close</strong>: 昨天收盘的价格；float</p>
<p><strong>avg_price</strong>: 平均价格；float</p>
<p><strong>volume</strong>: 成交量；float</p>
<p><strong>turnover</strong>: 成交额；float</p>
<p><strong>失败情况</strong>：</p>
<ol class="arabic">
<li><p class="first">code不合法</p>
</li>
<li><div class="first line-block">
<div class="line">code是未对RT_DATA类型订阅的股票</div>
</div>
</li>
<li><p class="first">客户端内部或网络错误</p>
</li>
</ol>
</div>
<div class="section" id="get-plate-list">
<h3>获取板块集合下的子板块列表 get_plate_list<a class="headerlink" href="#get-plate-list" title="Permalink to this headline">¶</a></h3>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">ret_code</span><span class="p">,</span> <span class="n">ret_data</span> <span class="o">=</span> <span class="n">quote_ctx</span><span class="o">.</span><span class="n">get_plate_list</span><span class="p">(</span><span class="n">market</span><span class="p">,</span> <span class="n">plate_class</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>功能</strong>： 获取板块集合下的子板块列表</p>
<p><strong>参数</strong>：</p>
<p><strong>market</strong>：市场标识，注意这里不区分沪，深,输入沪或者深都会返回沪深市场的子板块（这个是和客户端保持一致的）</p>
<p><strong>plate_class</strong> ：板块分类, string; 例如，&#8221;ALL&#8221;, &#8220;INDUSTRY&#8221;</p>
<p><strong>板块分类类型</strong> ，（字符串类型）：</p>
<table border="1" class="docutils">
<colgroup>
<col width="54%" />
<col width="46%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">板块分类</th>
<th class="head">标识</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>&#8220;ALL&#8221;</td>
<td>所有板块</td>
</tr>
<tr class="row-odd"><td>&#8220;INDUSTRY&#8221;</td>
<td>行业分类</td>
</tr>
<tr class="row-even"><td>&#8220;REGION&#8221;</td>
<td>地域分类</td>
</tr>
<tr class="row-odd"><td>&#8220;CONCEPT&#8221;</td>
<td>概念分类</td>
</tr>
</tbody>
</table>
<p><strong>返回</strong>：</p>
<div class="line-block">
<div class="line">ret_code失败时，ret_data返回为错误描述字符串；
客户端无符合条件数据时，ret_code为成功，返回None；</div>
</div>
<p>正常情况下返回K线数据为一个DataFrame包含:</p>
<p><strong>code</strong>： 板块代码；string</p>
<p><strong>plate_name</strong>： 板块名称；string</p>
<p><strong>plate_id</strong>: 板块ID；string</p>
<p>港股美股市场的地域分类数据暂时为空</p>
<p><strong>失败情况</strong>：</p>
<ol class="arabic simple">
<li>市场标识不合法</li>
<li>板块分类不合法</li>
<li>客户端内部或网络错误</li>
</ol>
</div>
<div class="section" id="get-plate-stock">
<h3>获取板块下的股票列表 get_plate_stock<a class="headerlink" href="#get-plate-stock" title="Permalink to this headline">¶</a></h3>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">ret_code</span><span class="p">,</span> <span class="n">ret_data</span> <span class="o">=</span> <span class="n">quote_ctx</span><span class="o">.</span><span class="n">get_plate_stock</span><span class="p">(</span><span class="n">plate_code</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>功能</strong>：获取特定板块下的股票列表,注意这里不区分沪，深,输入沪或者深都会返回沪深市场</p>
<p><strong>参数</strong>：</p>
<p><strong>plate_code</strong>: 板块代码, string,
例如，”SH.BK0001”，”SH.BK0002”，先利用获取子版块列表函数获取子版块代码</p>
<p><strong>返回</strong>：</p>
<p>ret_code失败时，ret_data返回为错误描述字符串；
客户端无符合条件数据时，ret_code为成功，ret_data返回None；</p>
<p>正常情况下，ret_data为一个dataframe，其中包括：</p>
<p><strong>code</strong>：股票代码；string，例如： ”SZ.000158”，“SZ.000401”</p>
<p><strong>lot_size</strong>：每手股数；int</p>
<p><strong>stock_name</strong>：股票名称；string，例如： ”天然乳品”，”大庆乳业”</p>
<p><strong>owner_market</strong>: 所属股票的市场；仅支持窝轮，其他为空；string</p>
<p><strong>stock_child_type</strong>: 股票子类型；仅支持窝轮，其他为0；string，例如：&#8221;BEAR&#8221;，&#8221;BULL&#8221;</p>
<p><strong>stock_type</strong>：股票类型；string, 例如，&#8221;BOND&#8221;, &#8220;STOCK&#8221;</p>
<table border="1" class="docutils">
<colgroup>
<col width="52%" />
<col width="48%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">股票类型</th>
<th class="head">标识</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>&#8220;STOCK&#8221;</td>
<td>正股</td>
</tr>
<tr class="row-odd"><td>&#8220;IDX&#8221;</td>
<td>指数</td>
</tr>
<tr class="row-even"><td>&#8220;ETF&#8221;</td>
<td>ETF基金</td>
</tr>
<tr class="row-odd"><td>&#8220;WARRANT&#8221;</td>
<td>涡轮牛熊</td>
</tr>
<tr class="row-even"><td>&#8220;BOND&#8221;</td>
<td>债券</td>
</tr>
</tbody>
</table>
<p><strong>股票子类型</strong> wrt_type，（字符串类型）：</p>
<table border="1" class="docutils">
<colgroup>
<col width="35%" />
<col width="65%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">股票子类型</th>
<th class="head">标识</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>&#8220;CALL&#8221;</td>
<td>认购证</td>
</tr>
<tr class="row-odd"><td>&#8220;PUT&#8221;</td>
<td>认沽证</td>
</tr>
<tr class="row-even"><td>&#8220;BULL&#8221;</td>
<td>牛证</td>
</tr>
<tr class="row-odd"><td>&#8220;BEAR&#8221;</td>
<td>熊证</td>
</tr>
<tr class="row-even"><td>&#8220;N/A&#8221;</td>
<td>未知或服务器没相关数据</td>
</tr>
</tbody>
</table>
<p><strong>失败情况</strong>：</p>
<ol class="arabic simple">
<li>板块代码不合法，或者该板块不存在</li>
<li>客户端内部或网络错误</li>
</ol>
</div>
<div class="section" id="get-broker-queue">
<h3>获取经纪队列 get_broker_queue<a class="headerlink" href="#get-broker-queue" title="Permalink to this headline">¶</a></h3>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">ret_code</span><span class="p">,</span> <span class="n">bid_data</span><span class="p">,</span> <span class="n">ask_data</span> <span class="o">=</span> <span class="n">quote_ctx</span><span class="o">.</span><span class="n">get_broker_queue</span><span class="p">(</span><span class="n">code</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>功能</strong>：获取股票的经纪队列</p>
<p><strong>参数</strong>：</p>
<p><strong>code</strong>: 股票代码, string, 例如，”HK.00700”</p>
<p><strong>返回</strong>：</p>
<p>ret_code失败时，bid_data返回为错误描述字符串；
客户端无符合条件数据时，ret_code为成功，ask_data, bid_data返回None；
正常情况下，ask_data, bid_data均为dataframe，
其中bid_data是买盘的数据，包括：</p>
<p><strong>bid_broker_id</strong>: 经纪买盘id；int</p>
<p><strong>bid_broker_name</strong>：经纪买盘名称；string，例如： ”高盛”，”法巴”</p>
<p><strong>bid_broker_pos</strong>: 经纪档位：int, 例如：0，1</p>
<p>其中ask_data是卖盘的数据，包括：</p>
<p><strong>ask_broker_id</strong>：经纪卖盘id；int</p>
<p><strong>ask_broker_name</strong>：经纪卖盘名称；string，例如： ”高盛”，”法巴”</p>
<p><strong>ask_broker_pos</strong>: 经纪档位；int, 例如：0，1</p>
<p><strong>失败情况</strong>：</p>
<ol class="arabic simple">
<li>股票代码不合法，不存在</li>
<li>客户端内部或网络错误</li>
</ol>
</div>
<div class="section" id="get-global-state">
<h3>获取牛牛程序全局状态 get_global_state<a class="headerlink" href="#get-global-state" title="Permalink to this headline">¶</a></h3>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">ret_code</span><span class="p">,</span> <span class="n">state_dict</span> <span class="o">=</span> <span class="n">quote_ctx</span><span class="o">.</span><span class="n">get_global_state</span><span class="p">()</span>
</pre></div>
</div>
<p><strong>功能</strong>：获取牛牛程序全局状态</p>
<p><strong>参数</strong>：无</p>
<div class="line-block">
<div class="line"><strong>返回</strong>： ret_code失败时，ret_data返回为错误描述字符串；
客户端无符合条件数据时，ret_code为成功，ret_data返回None；</div>
</div>
<p>正常情况下，ret_data为dict，包括：</p>
<div class="line-block">
<div class="line"><strong>Trade_Logined</strong>: 是否登陆交易服务器,int(0|1), 1
表示登陆，0表示未登陆</div>
</div>
<p><strong>Quote_Logined</strong>：是否登陆行情服务器,int(0|1), 1
表示登陆，0表示未登陆</p>
<p><strong>Market_HK</strong>: 港股主板市场状态,int,字段定义详见下表</p>
<p><strong>Market_US</strong>: 美股Nasdaq市场状态,int, 字段定义详见下表</p>
<p><strong>Market_SH</strong>: 沪市状态,int,字段定义详见下表</p>
<p><strong>Market_SZ</strong>: 深市状态,int,字段定义详见下表</p>
<p><strong>Market_HKFuture</strong>: 港股期货市场状态,int,字段定义详见下表</p>
<p><strong>市场字段说明</strong> ：</p>
<table border="1" class="docutils">
<colgroup>
<col width="22%" />
<col width="78%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">市场状态</th>
<th class="head">说明</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>0</td>
<td>未开盘</td>
</tr>
<tr class="row-odd"><td>1</td>
<td>竞价交易（港股）</td>
</tr>
<tr class="row-even"><td>2</td>
<td>早盘前等待开盘（港股）</td>
</tr>
<tr class="row-odd"><td>3</td>
<td>早盘（港股）</td>
</tr>
<tr class="row-even"><td>4</td>
<td>午休（A股、港股）</td>
</tr>
<tr class="row-odd"><td>5</td>
<td>午盘（A股、港股）/ 盘中（美股）</td>
</tr>
<tr class="row-even"><td>6</td>
<td>交易日结束（A股、港股）/ 已收盘（美股）</td>
</tr>
<tr class="row-odd"><td>8</td>
<td>盘前开始（美股）</td>
</tr>
<tr class="row-even"><td>9</td>
<td>盘前结束（美股）</td>
</tr>
<tr class="row-odd"><td>10</td>
<td>盘后开始（美股）</td>
</tr>
<tr class="row-even"><td>11</td>
<td>盘后结束（美股）</td>
</tr>
<tr class="row-odd"><td>12</td>
<td>内部状态，用于交易日切换</td>
</tr>
<tr class="row-even"><td>13</td>
<td>夜市交易中（港期货）</td>
</tr>
<tr class="row-odd"><td>14</td>
<td>夜市收盘（港期货）</td>
</tr>
<tr class="row-even"><td>15</td>
<td>日市交易中（港期货）</td>
</tr>
<tr class="row-odd"><td>16</td>
<td>日市午休（港期货）</td>
</tr>
<tr class="row-even"><td>17</td>
<td>日市收盘（港期货）</td>
</tr>
<tr class="row-odd"><td>18</td>
<td>日市等待开盘（港期货）</td>
</tr>
<tr class="row-even"><td>19</td>
<td>港股盘后竞价</td>
</tr>
</tbody>
</table>
<p><strong>失败情况</strong>：</p>
<ol class="arabic simple">
<li>客户端内部或网络错误</li>
</ol>
</div>
<div class="section" id="subscribe">
<h3>订阅 subscribe<a class="headerlink" href="#subscribe" title="Permalink to this headline">¶</a></h3>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">ret_code</span><span class="p">,</span><span class="n">ret_data</span><span class="o">=</span> <span class="n">quote_ctx</span><span class="o">.</span><span class="n">subscribe</span><span class="p">(</span><span class="n">stock_code</span><span class="p">,</span> <span class="n">data_type</span><span class="p">,</span> <span class="n">push</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>功能</strong>：订阅注册需要的实时信息，指定股票和订阅的数据类型即可：</p>
<p><strong>参数</strong>：</p>
<p><strong>stock_code</strong>: 需要订阅的股票代码</p>
<p><strong>data_type</strong>: 需要订阅的数据类型</p>
<p><strong>push</strong>: 推送选项，默认不推送</p>
<p><strong>返回</strong>：</p>
<p>ret_code失败时，ret_data返回为错误描述字符串；
ret_code为成功，ret_data返回None；如果指定内容已订阅，则直接返回成功</p>
<p><strong>失败情况</strong>:</p>
<ol class="arabic simple">
<li>股票代码不合法，不存在</li>
<li>数据类型不合法</li>
<li>订阅额度已满，参考订阅额度表</li>
<li>客户端内部或网络错误</li>
</ol>
</div>
<div class="section" id="unsubscribe">
<h3>退订 unsubscribe<a class="headerlink" href="#unsubscribe" title="Permalink to this headline">¶</a></h3>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">ret_code</span><span class="p">,</span><span class="n">ret_data</span> <span class="o">=</span> <span class="n">quote_ctx</span><span class="o">.</span><span class="n">unsubscribe</span><span class="p">(</span><span class="n">stock_code</span><span class="p">,</span> <span class="n">data_type</span><span class="p">,</span> <span class="n">unpush</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>ret_code,ret_data = unsubscribe(stock_code, data_type, unpush=True)</p>
<p><strong>功能</strong>：退订注册的实时信息，指定股票和订阅的数据类型即可</p>
<p><strong>参数</strong>：</p>
<p><strong>stock_code</strong>: 需要退订的股票代码</p>
<p><strong>data_type</strong>: 需要退订的数据类型</p>
<p><strong>unpush</strong>: 无用参数，忽略即可</p>
<p><strong>返回</strong>：</p>
<p>ret_code失败时，ret_data返回为错误描述字符串；
ret_code为成功，ret_data返回None；如果指定内容已退订，则直接返回成功</p>
<p><strong>失败情况</strong>:</p>
<ol class="arabic simple">
<li>股票代码不合法，不存在</li>
<li>数据类型不合法</li>
<li>内容订阅后不超过60s，就退订</li>
<li>客户端内部或网络错误</li>
</ol>
</div>
<div class="section" id="query-subscription">
<h3>查询订阅 query_subscription<a class="headerlink" href="#query-subscription" title="Permalink to this headline">¶</a></h3>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">ret_code</span><span class="p">,</span> <span class="n">ret_data</span> <span class="o">=</span> <span class="n">quote_ctx</span><span class="o">.</span><span class="n">query_subscription</span><span class="p">(</span><span class="n">query</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>功能</strong>：查询已订阅的实时信息</p>
<p><strong>参数</strong>：</p>
<p><strong>query</strong>: 需要查询的类型，int,
0表示当前查询的socket,非0表示查询所有socket的订阅状态</p>
<p><strong>返回</strong>：
ret_code失败时，ret_data返回为错误描述字符串；</p>
<p>ret_code为成功，ret_data返回字典类型，已订阅类型为主键，值为订阅该类型的股票，例如</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span>{ ‘QUOTE’: [‘HK.00700’, ‘SZ.000001’]
  ‘TICKER’: [‘HK.00700’]
  ‘K_1M’: [‘HK.00700’]
  #无股票订阅摆盘和其它类型分K
}
</pre></div>
</div>
<p><strong>失败情况</strong>:</p>
<p>客户端内部或网络错误</p>
</div>
<div class="section" id="get-stock-quote-stockquotehandlerbase">
<h3>获取报价 get_stock_quote 和 StockQuoteHandlerBase<a class="headerlink" href="#get-stock-quote-stockquotehandlerbase" title="Permalink to this headline">¶</a></h3>
<p>对于同步请求使用<strong>get_stock_quote</strong>直接得到报价</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">ret_code</span><span class="p">,</span> <span class="n">ret_data</span> <span class="o">=</span> <span class="n">quote_ctx</span><span class="o">.</span><span class="n">get_stock_quote</span><span class="p">(</span><span class="n">code_list</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>功能</strong>：获取订阅股票报价的实时数据，有订阅要求限制</p>
<p><strong>参数</strong>：</p>
<p><strong>code_list</strong>: 股票代码列表，例如，HK.00700，US.AAPL
必须确保code_list中的股票均订阅成功后才能够执行</p>
<p><strong>返回</strong>： ret_code失败时，ret_data返回为错误描述字符串；
客户端无符合条件数据时，ret_code为成功，返回None；
正常情况下，ret_data为一个dataframe，其中包括：</p>
<p><strong>code</strong> ：股票代码；string</p>
<p><strong>data_date</strong>: 日期； str</p>
<p><strong>data_time</strong>: 时间；str</p>
<p><strong>last_price</strong> ： 最新价格；float</p>
<p><strong>open_price</strong>： 今日开盘价；float</p>
<p><strong>high_price</strong>： 最高价格；float</p>
<p><strong>low_price</strong>： 最低价格；float</p>
<p><strong>prev_close_price</strong>： 昨收盘价格；float</p>
<p><strong>volume</strong>： 成交数量； long</p>
<p><strong>turnover</strong>： 成交金额；float</p>
<p><strong>turnover_rate</strong>： 换手率；float</p>
<p><strong>amplitude</strong> : 振幅；int</p>
<p><strong>suspension</strong>： 是否停牌(True表示停牌)；bool</p>
<p><strong>listing_date</strong> ： 上市日期 (yyyy-MM-dd)；string</p>
<p><strong>price_spread</strong> ： 当前价差亦即摆盘数据的买档或卖档的相邻档位的报价差；float</p>
<p><strong>失败情况</strong>:</p>
<ol class="arabic simple">
<li>codelist中股票代码不合法</li>
<li>codelist包含未对QUOTE类型订阅的股票</li>
<li>客户端内部或网络错误</li>
</ol>
<p>对于异步推送数据需要使用<strong>StockQuoteHandlerBase</strong>以及继承它的子类处理。例如：</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">StockQuoteTest</span><span class="p">(</span><span class="n">StockQuoteHandlerBase</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">on_recv_rsp</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rsp_str</span><span class="p">):</span>
        <span class="n">ret_code</span><span class="p">,</span> <span class="n">content</span> <span class="o">=</span> <span class="nb">super</span><span class="p">(</span><span class="n">StockQuoteTest</span><span class="p">,</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">on_recv_rsp</span><span class="p">(</span><span class="n">rsp_str</span><span class="p">)</span> <span class="c1"># 基类的on_recv_rsp方法解包返回了报价信息，格式与get_stock_quote一样</span>
        <span class="k">if</span> <span class="n">ret_code</span> <span class="o">!=</span> <span class="n">RET_OK</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;StockQuoteTest: error, msg: </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">content</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">RET_ERROR</span><span class="p">,</span> <span class="n">content</span>

        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;StockQuoteTest &quot;</span><span class="p">,</span> <span class="n">content</span><span class="p">)</span> <span class="c1"># StockQuoteTest自己的处理逻辑</span>

        <span class="k">return</span> <span class="n">RET_OK</span><span class="p">,</span> <span class="n">content</span>
</pre></div>
</div>
</div>
<div class="section" id="get-rt-ticker-tickerhandlerbase">
<h3>获取逐笔 get_rt_ticker 和 TickerHandlerBase<a class="headerlink" href="#get-rt-ticker-tickerhandlerbase" title="Permalink to this headline">¶</a></h3>
<p>对于同步请求使用<strong>get_rt_ticker</strong>直接得到逐笔</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">ret_code</span><span class="p">,</span> <span class="n">ret_data</span> <span class="o">=</span> <span class="n">quote_ctx</span><span class="o">.</span><span class="n">get_rt_ticker</span><span class="p">(</span><span class="n">code</span><span class="p">,</span> <span class="n">num</span><span class="o">=</span><span class="mi">500</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>功能</strong>： 获取指定股票的实时逐笔。取最近num个逐笔，</p>
<p><strong>参数</strong>：</p>
<p><strong>code</strong>: 股票代码，例如，HK.00700，US.AAPL</p>
<p><strong>num</strong>: 最近ticker个数(有最大个数限制，最近500个）</p>
<p><strong>返回</strong>：</p>
<p>ret_code失败时，ret_data为错误描述字符串；
客户端无符合条件数据时，ret为成功，ret_data返回None；
通常情况下，返回DataFrame，DataFrame每一行是一个逐笔记录，包含：</p>
<p><strong>stock_code</strong> 股票代码</p>
<p><strong>sequence</strong> 逐笔序号</p>
<p><strong>time</strong> 成交时间；string</p>
<p><strong>price</strong> 成交价格；double</p>
<p><strong>volume</strong> 成交数量（股数）；int</p>
<p><strong>turnover</strong> 成交金额；double</p>
<p><strong>ticker_direction</strong> 逐笔方向；int</p>
<p>ticker_direction:</p>
<table border="1" class="docutils">
<colgroup>
<col width="60%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">逐笔标识</th>
<th class="head">说明</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>TT_BUY</td>
<td>外盘</td>
</tr>
<tr class="row-odd"><td>TT_ASK</td>
<td>内盘</td>
</tr>
<tr class="row-even"><td>TT_NEUTRAL</td>
<td>中性盘</td>
</tr>
</tbody>
</table>
<p>返回的逐笔记录个数不一定与num指定的相等，客户端只会返回自己有的数据。</p>
<p><strong>失败情况</strong>：</p>
<ol class="arabic simple">
<li>code不合法</li>
<li>code是未对TICKER类型订阅的股票</li>
<li>客户端内部或网络错误</li>
</ol>
<p>对于异步推送数据需要使用<strong>TickerHandlerBase</strong>以及继承它的子类处理。例如：</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">TickerTest</span><span class="p">(</span><span class="n">TickerHandlerBase</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">on_recv_rsp</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rsp_str</span><span class="p">):</span>
        <span class="n">ret_code</span><span class="p">,</span> <span class="n">content</span> <span class="o">=</span> <span class="nb">super</span><span class="p">(</span><span class="n">TickerTest</span><span class="p">,</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">on_recv_rsp</span><span class="p">(</span><span class="n">rsp_str</span><span class="p">)</span> <span class="c1"># 基类的on_recv_rsp方法解包返回了逐笔信息，格式与get_rt_ticker一样</span>
        <span class="k">if</span> <span class="n">ret_code</span> <span class="o">!=</span> <span class="n">RET_OK</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;TickerTest: error, msg: </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">content</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">RET_ERROR</span><span class="p">,</span> <span class="n">content</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;TickerTest&quot;</span><span class="p">,</span> <span class="n">content</span><span class="p">)</span>  <span class="c1"># StockQuoteTest自己的处理逻辑</span>
        <span class="k">return</span> <span class="n">RET_OK</span><span class="p">,</span> <span class="n">content</span>
</pre></div>
</div>
</div>
<div class="section" id="k-get-cur-kline-curklinehandlerbase">
<h3>获取实时K线 get_cur_kline 和 CurKlineHandlerBase<a class="headerlink" href="#k-get-cur-kline-curklinehandlerbase" title="Permalink to this headline">¶</a></h3>
<p>对于同步请求使用<strong>get_cur_kline</strong>直接得到实时K线</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">ret_code</span><span class="p">,</span> <span class="n">ret_data</span> <span class="o">=</span> <span class="n">quote_ctx</span><span class="o">.</span><span class="n">get_cur_kline</span><span class="p">(</span><span class="n">code</span><span class="p">,</span> <span class="n">num</span><span class="p">,</span> <span class="n">ktype</span><span class="o">=</span><span class="s1">&#39;K_DAY&#39;</span><span class="p">,</span> <span class="n">autype</span><span class="o">=</span><span class="s1">&#39;qfq&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>功能</strong>： 实时获取指定股票最近num个K线数据，最多1000根</p>
<p><strong>参数</strong>：</p>
<p><strong>code</strong> 股票代码</p>
<p><strong>ktype</strong> k线类型，和get_history_kline一样</p>
<p><strong>autype</strong>
复权类型，string；qfq-前复权，hfq-后复权，None-不复权，默认为qfq</p>
<p>对于实时K线数据最多取最近1000根</p>
<p><strong>返回</strong>：</p>
<p>ret_code失败时，ret_data为错误描述字符串；
客户端无符合条件数据时，ret为成功，ret_data返回None；
通常情况下，返回DataFrame。</p>
<p><strong>失败情况</strong>：</p>
<ol class="arabic simple">
<li>code不合法</li>
<li>该股票未对指定K线类型订阅</li>
<li>客户端内部或网络错误</li>
</ol>
<p>对于异步推送数据需要使用<strong>CurKlineHandlerBase</strong>以及继承它的子类处理。例如：</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">CurKlineTest</span><span class="p">(</span><span class="n">CurKlineHandlerBase</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">on_recv_rsp</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rsp_str</span><span class="p">):</span>
        <span class="n">ret_code</span><span class="p">,</span> <span class="n">content</span> <span class="o">=</span> <span class="nb">super</span><span class="p">(</span><span class="n">CurKlineTest</span><span class="p">,</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">on_recv_rsp</span><span class="p">(</span><span class="n">rsp_str</span><span class="p">)</span> <span class="c1"># 基类的on_recv_rsp方法解包返回了实时K线信息，格式除了与get_cur_kline所有字段外，还包含K线类型k_type</span>
        <span class="k">if</span> <span class="n">ret_code</span> <span class="o">!=</span> <span class="n">RET_OK</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;CurKlineTest: error, msg: </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">content</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">RET_ERROR</span><span class="p">,</span> <span class="n">content</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;CurKlineTest&quot;</span><span class="p">,</span> <span class="n">content</span><span class="p">)</span> <span class="c1"># CurKlineTest自己的处理逻辑</span>
        <span class="k">return</span> <span class="n">RET_OK</span><span class="p">,</span> <span class="n">content</span>
</pre></div>
</div>
</div>
<div class="section" id="get-order-book-orderbookhandlerbase">
<h3>获取摆盘 get_order_book 和 OrderBookHandlerBase<a class="headerlink" href="#get-order-book-orderbookhandlerbase" title="Permalink to this headline">¶</a></h3>
<p>对于同步请求使用<strong>get_order_book</strong>直接得到摆盘</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">ret_code</span><span class="p">,</span> <span class="n">ret_data</span> <span class="o">=</span> <span class="n">quote_ctx</span><span class="o">.</span><span class="n">get_order_book</span><span class="p">(</span><span class="n">code</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>功能</strong>：获取实时摆盘数据</p>
<p><strong>参数</strong>：</p>
<p><strong>code</strong>: 股票代码，例如，HK.00700，US.AAPL</p>
<p><strong>返回</strong>： ret_code失败时，ret_data为错误描述字符串；
客户端无符合条件数据时，ret为成功，ret_data返回None；
通常情况下，返回字典</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span>{‘stock_code’: stock_code
 ‘Ask’:[ (ask_price1, ask_volume1，order_num), (ask_price2, ask_volume2, order_num),…]
‘Bid’: [ (bid_price1, bid_volume1, order_num), (bid_price2, bid_volume2, order_num),…]
}
</pre></div>
</div>
<p><strong>失败情况</strong>：</p>
<ol class="arabic simple">
<li>code不合法</li>
<li>该股票未对ORDER_BOOK类型订阅</li>
<li>客户端内部或网络错误</li>
</ol>
<p>对于异步推送数据需要使用<strong>OrderBookHandlerBase</strong>以及继承它的子类处理。例如：</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">OrderBookTest</span><span class="p">(</span><span class="n">OrderBookHandlerBase</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">on_recv_rsp</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rsp_str</span><span class="p">):</span>
        <span class="n">ret_code</span><span class="p">,</span> <span class="n">content</span> <span class="o">=</span> <span class="nb">super</span><span class="p">(</span><span class="n">OrderBookTest</span><span class="p">,</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">on_recv_rsp</span><span class="p">(</span><span class="n">rsp_str</span><span class="p">)</span> <span class="c1"># 基类的on_recv_rsp方法解包返回摆盘信息，格式与get_order_book一样</span>
        <span class="k">if</span> <span class="n">ret_code</span> <span class="o">!=</span> <span class="n">RET_OK</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;OrderBookTest: error, msg: </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">content</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">RET_ERROR</span><span class="p">,</span> <span class="n">content</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;OrderBookTest&quot;</span><span class="p">,</span> <span class="n">content</span><span class="p">)</span> <span class="c1"># OrderBookTest自己的处理逻辑</span>
        <span class="k">return</span> <span class="n">RET_OK</span><span class="p">,</span> <span class="n">content</span>
</pre></div>
</div>
</div>
<div class="section" id="get-rt-data-rtdatahandlerbase">
<h3>获取分时数据 get_rt_data 和 RTDataHandlerBase<a class="headerlink" href="#get-rt-data-rtdatahandlerbase" title="Permalink to this headline">¶</a></h3>
<p>对于同步请求使用<strong>get_rt_data</strong>直接得到分时数据</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">ret_code</span><span class="p">,</span> <span class="n">ret_data</span> <span class="o">=</span> <span class="n">quote_ctx</span><span class="o">.</span><span class="n">get_rt_data</span><span class="p">(</span><span class="n">code</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>功能</strong>：获取实时分时数据</p>
<p><strong>参数</strong>：</p>
<p><strong>code</strong>: 股票代码，例如，HK.00700，US.AAPL</p>
<p><strong>返回</strong>：</p>
<p>ret_code失败时，ret_data为错误描述字符串；
客户端无符合条件数据时，ret为成功，ret_data返回None；通常情况下，返回</p>
<p><strong>time</strong> 时间</p>
<p><strong>data_status</strong> 数据状态</p>
<p><strong>opened_mins</strong> 零点到当前多少分钟</p>
<p><strong>cur_price</strong> 当前价格</p>
<p><strong>last_close</strong> 昨天收盘的价格</p>
<p><strong>avg_price</strong> 平均价格</p>
<p><strong>volume</strong> 成交量</p>
<p><strong>turnover</strong> 成交额</p>
<p><strong>失败情况</strong>：</p>
<ol class="arabic simple">
<li>code不合法</li>
<li>该股票未对RT_DATA类型订阅</li>
<li>客户端内部或网络错误</li>
</ol>
<p>对于异步推送数据需要使用<strong>RTDataHandlerBase</strong>以及继承它的子类处理。例如：</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">RTDataTest</span><span class="p">(</span><span class="n">RTDataHandlerBase</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">on_recv_rsp</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rsp_str</span><span class="p">):</span>
        <span class="n">ret_code</span><span class="p">,</span> <span class="n">content</span> <span class="o">=</span> <span class="nb">super</span><span class="p">(</span><span class="n">RTDataTest</span><span class="p">,</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">on_recv_rsp</span><span class="p">(</span><span class="n">rsp_str</span><span class="p">)</span> <span class="c1"># 基类的on_recv_rsp方法解包返回分时数据，格式与get_rt_data一样</span>
        <span class="k">if</span> <span class="n">ret_code</span> <span class="o">!=</span> <span class="n">RET_OK</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;RTDataTest: error, msg: </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">content</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">RET_ERROR</span><span class="p">,</span> <span class="n">content</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;RTDataTest&quot;</span><span class="p">,</span> <span class="n">content</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">RET_OK</span><span class="p">,</span> <span class="n">content</span>
</pre></div>
</div>
</div>
<div class="section" id="get-broker-queue-brokerhandlerbase">
<h3>获取经纪队列 get_broker_queue 和 BrokerHandlerBase<a class="headerlink" href="#get-broker-queue-brokerhandlerbase" title="Permalink to this headline">¶</a></h3>
<p>对于同步请求使用<strong>get_broker_queue</strong>直接得到经纪队列</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">ret_code</span><span class="p">,</span> <span class="n">ret_data</span> <span class="o">=</span> <span class="n">quote_ctx</span><span class="o">.</span><span class="n">get_broker_queue</span><span class="p">(</span><span class="n">code</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>功能</strong>：获取实时经纪队列</p>
<p><strong>参数</strong>：</p>
<p><strong>code</strong>: 股票代码，例如，HK.00700，US.AAPL</p>
<p><strong>返回</strong>：</p>
<p>ret_code失败时，ret_data为错误描述字符串；
客户端无符合条件数据时，ret为成功，ret_data返回None；通常情况下，返回
bid_data是买盘的数据，包括：</p>
<p><strong>bid_broker_id</strong> 经纪卖盘id</p>
<p><strong>bid_broker_name</strong> 经纪卖盘名称</p>
<p><strong>bid_broker_pos</strong> 经纪档位</p>
<p>ask_data是卖盘的数据</p>
<p><strong>ask_broker_id</strong> 经纪买盘id</p>
<p><strong>ask_broker_name</strong> 经纪买盘名称</p>
<p><strong>ask_broker_pos</strong> 经纪档位</p>
<p><strong>失败情况</strong>：</p>
<ol class="arabic simple">
<li>code不合法</li>
<li>该股票未对BROKER类型订阅</li>
<li>客户端内部或网络错误</li>
</ol>
<p>对于异步推送数据需要使用<strong>BrokerHandlerBase</strong>以及继承它的子类处理。例如：</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">BrokerTest</span><span class="p">(</span><span class="n">BrokerHandlerBase</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">on_recv_rsp</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rsp_str</span><span class="p">):</span>
        <span class="n">ret_code</span><span class="p">,</span> <span class="n">ask_content</span><span class="p">,</span> <span class="n">bid_content</span> <span class="o">=</span> <span class="nb">super</span><span class="p">(</span><span class="n">BrokerTest</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">on_recv_rsp</span><span class="p">(</span><span class="n">rsp_str</span><span class="p">)</span> <span class="c1"># 基类的on_recv_rsp方法解包返回经纪队列，格式与get_broker_queue一样</span>
        <span class="k">if</span> <span class="n">ret_code</span> <span class="o">!=</span> <span class="n">RET_OK</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;BrokerTest: error, msg: </span><span class="si">%s</span><span class="s2"> </span><span class="si">%s</span><span class="s2"> &quot;</span> <span class="o">%</span> <span class="n">ask_content</span> <span class="o">%</span> <span class="n">bid_content</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">RET_ERROR</span><span class="p">,</span> <span class="n">ask_content</span><span class="p">,</span> <span class="n">bid_content</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;BrokerTest&quot;</span><span class="p">,</span> <span class="n">ask_content</span><span class="p">,</span> <span class="n">bid_content</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">RET_OK</span><span class="p">,</span> <span class="n">ask_content</span><span class="p">,</span> <span class="n">bid_content</span>
</pre></div>
</div>
</div>
<div class="section" id="k-get-multi-points-history-kline">
<h3>获取多支股票多个单点历史K线 get_multi_points_history_kline<a class="headerlink" href="#k-get-multi-points-history-kline" title="Permalink to this headline">¶</a></h3>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">ret_code</span><span class="p">,</span> <span class="n">ret_data</span> <span class="o">=</span> <span class="n">quote_ctx</span><span class="o">.</span><span class="n">get_multi_points_history_kline</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">codes</span><span class="p">,</span> <span class="n">dates</span><span class="p">,</span> <span class="n">fields</span><span class="p">,</span> <span class="n">ktype</span><span class="o">=</span><span class="s1">&#39;K_DAY&#39;</span><span class="p">,</span> <span class="n">autype</span><span class="o">=</span><span class="s1">&#39;qfq&#39;</span><span class="p">,</span> <span class="n">no_data_mode</span><span class="o">=</span><span class="n">KL_NO_DATA_MODE_FORWARD</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>功能</strong>：获取多支股票多个单点历史K线</p>
<p><strong>参数</strong>：</p>
<p><strong>codes</strong>: 单个或多个股票 &#8216;HK.00700&#8217;  or  [&#8216;HK.00700&#8217;, &#8216;HK.00001&#8217;]</p>
<p><strong>dates</strong>: 单个或多个日期 &#8216;2017-01-01&#8217; or [&#8216;2017-01-01&#8217;, &#8216;2017-01-02&#8217;]</p>
<p><strong>fields</strong>: 单个或多个K线字段类型，指定需要返回的数据 KL_FIELD.ALL or [KL_FIELD.DATE_TIME, KL_FIELD.OPEN]</p>
<p><strong>ktype</strong>: K线类型</p>
<p><strong>autype</strong>: 复权类型</p>
<p><strong>param no_data_mode</strong>: 请求点无数据时，对应的k线数据取值模式</p>
<table border="1" class="docutils">
<colgroup>
<col width="52%" />
<col width="48%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">取值模式</th>
<th class="head">标识</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>KL_NO_DATA_MODE_NONE</td>
<td>请求点无数据时返回空</td>
</tr>
<tr class="row-odd"><td>KL_NO_DATA_MODE_FORWARD</td>
<td>请求点无数据时向前返回</td>
</tr>
<tr class="row-even"><td>KL_NO_DATA_MODE_BACKWARD</td>
<td>请求点无数据时向后返回</td>
</tr>
</tbody>
</table>
<p><strong>返回</strong>：
ret_code失败时，ret_data为错误描述字符串；
通常情况下，返回DataFrame，DataFrame每一行是一个逐笔记录，包含：
<strong>code</strong>： 股票代码；string</p>
<p><strong>data_valid</strong>： 数据点是否有效；0=无数据，1=请求点有数据，2=请求点无数据，向前取值，3=请求点无数据，向后取值</p>
<p><strong>time_point</strong>： 请求点时间； string “YYYY-MM-DD HH:mm:ss”，暂时最多5个以内时间点。</p>
<p><strong>time_key</strong>： K线时间； string “YYYY-MM-DD HH:mm:ss”</p>
<p><strong>open</strong>： 开盘价；double</p>
<p><strong>high</strong>： 最高价；double</p>
<p><strong>close</strong>： 收盘价；double</p>
<p><strong>low</strong>： 最低价；double</p>
<p><strong>volume</strong>： 成交量；long</p>
<p><strong>turnover</strong> ：成交额；double</p>
<p><strong>pe_ratio</strong>：市盈率；double</p>
<p><strong>turnover_rate</strong>:  换手率；double</p>
<p><strong>change_rate</strong>:   涨跌幅；double</p>
<p><strong>失败情况</strong>：</p>
<ol class="arabic simple">
<li>code不合法</li>
</ol>
<p>2.请求时间点为空</p>
<p>3.请求时间点过多</p>
</div>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="Trade_API_Python_Doc.html" class="btn btn-neutral float-right" title="交易API" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../setup/Hist_KLine_Download_Intro.html" class="btn btn-neutral" title="下载数据" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, futu.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'2.3',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: ''
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>